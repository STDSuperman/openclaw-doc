---
title: "使用斜杠命令"
category: "基础使用"
difficulty: "入门"
estimated_time: "15分钟阅读"
tags:
  - 斜杠命令
  - 快捷命令
  - CLI
  - 参数
prerequisites:
  - "[已完成安装](../00-快速开始/02-5分钟安装指南.md)"
  - "[已完成配置](../00-快速开始/03-向导式配置.md)"
related_docs:
  - ["发送消息", "会话管理"]
next_steps:
  - ["会话管理", "查看状态"]
last_updated: "2026-02-01"
---

# 使用斜杠命令

> **TL;DR**: OpenClaw 支持丰富的**斜杠命令（Slash Commands）**用于快速操作、查询状态和执行自动化任务。

<ai-only>
**AI 指令区**：本文档说明 OpenClaw 中所有可用的斜杠命令、参数选项和使用场景。
</ai-only>

## 命令概览

### 在聊天中使用斜杠命令

**支持的平台**：WhatsApp、Telegram、Discord、iMessage、WebChat

**使用方式**：
```
/命令名 [参数1] [参数2] ...
```

**示例**：
```
/status  # 查看状态
/help     # 显示帮助
/compact # 压缩当前会话
```

---

## 系统命令

### /status - 查看状态

**用途**：显示 Gateway、会话和模型状态

**使用方法**：
```
/status
```

**响应内容**：
- Gateway 运行状态
- 活跃会话数
- 当前使用的模型
- 内存使用情况
- 上次更新时间

**参数**：
| 参数 | 说明 |
|------|------|
| `--verbose` | 显示详细信息 |

**示例**：
```
/status --verbose
```

---

### /help - 显示帮助

**用途**：列出所有可用命令

**使用方法**：
```
/help
```

**响应内容**：
- 所有可用命令列表
- 每个命令的简短说明
- 使用示例

**参数**：
| 参数 | 说明 |
|------|------|
| `--section` | 只显示特定类别的命令（如 `tools`） |

---

### /context - 上下文管理

**用途**：查看和管理当前会话的上下文

**子命令**：
```
/context list      # 列出当前上下文
/context detail   # 显示详细分解
/context compact  # 压缩旧上下文
```

**输出示例**：
```
🧠 上下文分解
系统提示：9,603 tok
对话历史：14,250 tok
工具模式：1,032 tok
总计：24,885 tok
```

---

## 会话管理命令

### /compact - 压缩会话

**用途**：压缩当前会话以释放上下文空间

**使用方法**：
```
/compact
```

**效果**：
- ✅ 保留最近 N 条消息（可配置）
- ✅ 将旧消息压缩为摘要
- ✅ 减少 token 使用
- ⚠️ 可能丢失一些细节

**参数**：
| 参数 | 说明 |
|------|------|
| `--keep` | 保留的消息数（默认 20） |
| `--summary-level` | 摘要级别：`minimal`、`low`、`medium`、`high` |

**示例**：
```
/compact --keep 30 --summary-level medium
```

---

### /sessions - 会话管理

**用途**：查看和管理所有活跃会话

**子命令**：
```
/sessions list           # 列出所有会话
/sessions get <key>     # 获取特定会话详情
/sessions delete <key>   # 删除特定会话
/sessions reset         # 删除所有会话（危险）
```

**示例**：
```
/sessions list
/sessions get agent:main:whatsapp:dm:+86138000000
/sessions delete agent:custom:workspace:user1:webchat
```

---

## 工具与自动化命令

### /tools - 工具列表

**用途**：列出当前会话可用的所有工具

**使用方法**：
```
/tools
```

**响应内容**：
- 工具类别（文件、浏览器、命令等）
- 每个工具的名称和说明
- 工具权限状态

**示例输出**：
```
🔧 可用工具

文件工具：
- read: 读取文件内容
- write: 写入文件
- edit: 编辑文件

浏览器工具：
- browser.navigate: 导航到网页
- browser.screenshot: 截图
```

---

### /web - Web 搜索

**用途**：执行 Web 搜索查询

**前置条件**：
- 需要配置 `web.search.apiKey`（Brave Search）
- 或允许无 Key 搜索（`web.fetch`）

**使用方法**：
```
/web <搜索关键词>
```

**示例**：
```
/web OpenClaw AI 助手安装教程
/web 如何配置 WhatsApp
```

---

## 诊断与调试命令

### /debug - 调试模式

**用途**：启用或查看调试信息

**使用方法**：
```
/debug
```

**可操作**：
- `on` / `off`：切换调试模式
- `show`：显示当前调试状态
- `log`: 查看日志

**示例**：
```
/debug on
/debug show
```

---

### /verbose - 详细输出

**用途**：设置或查看 AI 的详细程度

**级别**：
| 级别 | 说明 | 适用场景 |
|------|------|----------|
| `off` | 无详细输出 | 简单查询 |
| `minimal` | 最少信息 | 快速响应 |
| `low` | 少量信息 | 平衡性能与信息 |
| `medium` | 中等信息 | 日常使用 |
| `high` | 详细信息 | 问题排查 |
| `xhigh` | 最详细 | 深度调试 |

**使用方法**：
```
/verbose high
/verbose off
```

---

## 模型控制命令

### /model - 模型管理

**用途**：查看和切换当前使用的模型

**子命令**：
```
/model list           # 列出可用模型
/model current        # 显示当前模型
/model switch <name>  # 切换模型
```

**示例**：
```
/model list
/model current
/model switch openai/gpt-4o-mini
```

---

### /thinking - 思考控制

**用途**：控制 AI 的思考模式

**选项**：
| 选项 | 说明 |
|------|------|
| `off` | 完全隐藏思考过程 |
| `minimal` | 只显示简短摘要 |
| `low` | 显示简要推理过程 |
| `medium` | 显示中等详细推理 |
| `high` | 显示详细推理过程 |
| `xhigh` | 显示最详细的推理 |

**使用方法**：
```
/thinking high
/thinking off
```

**示例输出（high 模式）**：
```
🤔 思考过程：
用户想了解 OpenClaw 的安装方法...
需要提供多种安装方式...
- 安装脚本（推荐）
- npm/pnpm 全局安装
- 从源码安装
每种方式都有其优缺点...
我应该全面介绍这些方法...
```

---

## 使用跟踪命令

### /usage - 使用统计

**用途**：显示 token 使用和成本统计

**使用方法**：
```
/usage
```

**显示内容**：
- 总 token 使用量
- 本周/本月使用统计
- 预估成本（按模型定价）
- 使用历史（最后 10 条记录）

**参数**：
| 参数 | 说明 |
|------|------|
| `--period` | 统计周期：`day`、`week`、`month` |
| `--by-model` | 按模型分类统计 |
| `--reset` | 重置统计（需要确认） |

**示例**：
```
/usage --period week
/usage --by-model
```

---

## 配置管理命令

### /config - 配置查看

**用途**：快速查看当前配置（只读）

**使用方法**：
```
/config
```

**显示内容**：
- Gateway 配置
- 通道配置摘要
- 模型配置
- 会话配置

**参数**：
| 参数 | 说明 |
|------|------|
| `--section` | 只显示特定章节（如 `gateway`、`channels`） |
| `--full` | 显示完整配置（可能很长） |

**示例**：
```
/config --section channels
/config --full
```

---

## 安全命令

### /auth - 认证状态

**用途**：查看当前认证配置状态（不显示密钥）

**使用方法**：
```
/auth
```

**显示内容**：
- 已配置的提供商
- 认证方式（API Key、OAuth）
- 连接状态

**输出示例**：
```
🔐 认证状态

提供商：
✅ Anthropic (API Key)
✅ OpenAI (OAuth)

状态：已配置，连接正常
```

---

### /security - 安全检查

**用途**：运行安全审计和检查

**使用方法**：
```
/security
```

**检查项目**：
- 配置安全（敏感信息暴露）
- 通道权限（允许列表、配对状态）
- 沙盒模式状态
- Gateway 认证设置

**参数**：
| 参数 | 说明 |
|------|------|
| `--deep` | 深度检查（扫描所有配置项） |
| `--fix` | 自动修复安全建议的问题 |

**示例**：
```
/security --deep
/security --fix
```

---

## 快捷命令别名

### 简短别名

为常用命令定义简短别名：

| 别名 | 完整命令 | 说明 |
|------|---------|------|
| `/st` | `/status` | 快速查看状态 |
| `/h` | `/help` | 显示帮助 |
| `/c` | `/compact` | 压缩会话 |
| `/ctx` | `/context` | 查看上下文 |

**自定义别名**：
通过编辑工作空间文件配置：
```markdown
## 自定义别名

在 `USER.md` 中配置你喜欢的别名：

| 别名 | 完整命令 |
|------|---------|
| `/s` | `/status` |
| `/x` | `/compact` |
```
```

---

## 常见使用场景

### 场景 1：日常对话管理

**典型流程**：
1. 使用 `/status` 查看当前状态
2. 持续对话
3. 使用 `/compact` 释放上下文
4. 使用 `/context` 查看上下文使用

---

### 场景 2：问题排查

**诊断流程**：
1. 使用 `/status --verbose` 查看详细信息
2. 使用 `/debug on` 启用调试
3. 使用 `/logs` 查看日志
4. 使用 `/security --deep` 检查配置

---

### 场景 3：模型切换

**切换流程**：
1. 使用 `/model list` 查看可用模型
2. 使用 `/model switch <name>` 切换模型
3. 使用 `/model current` 确认切换成功

---

## 命令优先级与冲突解决

### 优先级规则

当消息中同时包含命令和普通文本时：

1. **最高优先级**：斜杠命令（`/command`）
2. **中优先级**：内联快捷命令（仅限允许的发送者）
3. **最低优先级**：普通消息文本

**示例**：
```
用户输入："/status 帮我查看一下"
处理结果：执行 /status 命令（忽略后续文本）
```

---

## 错误处理

### 常见错误

| 错误信息 | 原因 | 解决方案 |
|----------|------|----------|
| `Unknown command: xxx` | 命令不存在 | 使用 `/help` 查看可用命令 |
| `Permission denied` | 无执行权限 | 检查用户权限 |
| `Gateway not running` | Gateway 未启动 | 启动 Gateway 或检查服务 |
| `Invalid parameter` | 参数格式错误 | 查看命令帮助 |

---

## 高级技巧

### 技巧 1：组合使用

```bash
# 在脚本中组合命令
openclaw message send --target +86138000000 \
  --message "/status" && "然后告诉我更多信息"
```

---

### 技巧 2：在脚本中使用

```bash
#!/bin/bash

# 脚本：每日健康检查
echo "[$(date)] 检查 Gateway 状态..."
openclaw message send --target +86138000000 \
  --message "$(openclaw status)"

echo "[$(date)] 检查完成"
```

---

### 技巧 3：环境变量

```bash
# 设置默认参数
export DEFAULT_TARGET="+86138000000"
export DEFAULT_COMPACT_LEVEL="medium"

# 在脚本中使用
openclaw message send \
  --target "$DEFAULT_TARGET" \
  --message "/compact --summary-level $DEFAULT_COMPACT_LEVEL"
```

---

## 下一步文档

- [会话管理](./03-会话管理.md) - 深入学习会话操作
- [查看状态](./04-查看状态.md) - 监控 Gateway 和通道状态
- [帮助与调试](./05-帮助与调试.md) - 问题排查和诊断
- [发送消息](./01-发送消息.md) - 通过 CLI 发送消息

---

**斜杠命令要点总结**：
- ⚡ **快速操作**：通过 `/` 前缀快速执行命令
- 📋 **完整命令集**：状态、会话、工具、诊断等
- 🎯 **别名支持**：为常用命令创建简短别名
- 🔧 **参数系统**：每个命令支持丰富的参数选项
- 🚀 **脚本友好**：易于在自动化脚本中使用
- 🛡️ **安全命令**：不暴露敏感信息

*更多信息请参考 [文档导航](../00-文档导航.md)*
